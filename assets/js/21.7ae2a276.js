(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{584:function(s,a,t){"use strict";t.r(a);var e=t(13),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"pod-一直处于-pending-状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-一直处于-pending-状态"}},[s._v("#")]),s._v(" Pod 一直处于 Pending 状态")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("kubectl get pods --all-namespaces -o wide  \n")])])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NAMESPACE")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NAME")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("READY")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("STATUS")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v("       nginx"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("deployment"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("7dd94b49b"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f7trw    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     Pending\n")])])]),t("p",[s._v("查看日志")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("kubectl describe pod nginx-deployment-7dd94b49b-f7trw -n default\n")])])]),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"title"}),t("p",[s._v("日志结果")])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("Warning  FailedScheduling  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x4 over 3m32s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheduler  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" nodes are available"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" had taint "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("node"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("role"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("kubernetes"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" that the pod didn't tolerate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])])]),t("p",[s._v("解决方案")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看节点的污点")]),s._v("\nkubectl get no -o yaml "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" taint -A "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除master节点的污点设置")]),s._v("\nkubectl taint nodes --all node-role.kubernetes.io/master-\n\n")])])]),t("h2",{attrs:{id:"pod-imagepullbackoff-状态"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pod-imagepullbackoff-状态"}},[s._v("#")]),s._v(" Pod ImagePullBackOff 状态")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("kubectl get pods --all-namespaces -o wide  \n")])])]),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NAMESPACE")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NAME")]),s._v("                                "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("READY")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("STATUS")]),s._v(" \n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v("       siemens"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5778864894")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("6mtml        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token template-string"}},[t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("ImagePullBackOff")]),t("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),s._v("\n")])])]),t("p",[s._v("查看日志")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("kubectl describe pod siemens-web-5778864894-6mtml -n default\n")])])]),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"title"}),t("p",[s._v("日志结果")])]),t("p",[s._v("k8s 集群无法无法拉取镜像")]),s._v(" "),t("div",{staticClass:"language-js extra-class"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token literal-property property"}},[s._v("Events")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n  Type     Reason     Age                 From               Message\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("\n  Normal   Scheduled  16m                 "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("scheduler  Successfully assigned "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("siemens"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("web"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("6dd99c4cc9"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ddlzd to k8s"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("master\n  Warning  Failed     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x6 over 16m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   kubelet            Error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ImagePullBackOff\n  Normal   Pulling    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x4 over 16m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   kubelet            Pulling image "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry.cn-hangzhou.aliyuncs.com/container/project:v1"')]),s._v("\n  Warning  Failed     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x4 over 16m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   kubelet            Failed to pull image "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry.cn-hangzhou.aliyuncs.com/container/project:v1"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" rpc error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" code "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Error response from daemon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" pull access denied "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" registry"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cn"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("hangzhou"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("aliyuncs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("container"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("project"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" repository does not exist or may require "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'docker login'")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" denied"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" requested access to the resource is denied\n  Warning  Failed     "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("m")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x4 over 16m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   kubelet            Error"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" ErrImagePull\n  Normal   BackOff    "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("88")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("s")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x66 over 16m"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet            Back"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("off pulling image "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry.cn-hangzhou.aliyuncs.com/container/project:v1"')]),s._v("\n")])])]),t("p",[s._v("关键字错误 "),t("code",[s._v("docker login")])]),s._v(" "),t("p",[s._v("解决方案")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 namespace")]),s._v("\nkubectl get namespace\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建secret")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# default namespace 的name,默认  default，可通过 `kubectl get namespace` 查看")]),s._v("\nkubectl --namespace  default "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    create secret docker-registry regitsiv  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --docker-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("registry.cn-hangzhou.aliyuncs.com "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --docker-username"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("*****@sina.cn "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --docker-password"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"*****"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    --docker-email"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("****@sina.cn\n")])])]),t("p",[s._v("再重新执行yaml文件")])])}),[],!1,null,null,null);a.default=r.exports}}]);